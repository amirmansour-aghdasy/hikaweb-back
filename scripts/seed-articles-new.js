import { Database } from '../src/config/database.js';
import { Article } from '../src/modules/articles/model.js';
import { Service } from '../src/modules/services/model.js';
import { Category } from '../src/modules/categories/model.js';
import { User } from '../src/modules/auth/model.js';
import { logger } from '../src/utils/logger.js';

// 8 services from services_list
const SERVICES = [
  {
    slug: 'seo-and-optimization',
    name: { fa: 'ุณุฆู ู ุจูู ุณุงุฒ', en: 'SEO and Optimization' }
  },
  {
    slug: 'hika-studio',
    name: { fa: 'ูฺฉุง ุงุณุชูุฏู', en: 'Hika Studio' }
  },
  {
    slug: 'graphic-design',
    name: { fa: 'ุทุฑุงุญ ฺฏุฑุงูฺฉ', en: 'Graphic Design' }
  },
  {
    slug: 'printing',
    name: { fa: 'ฺุงูพ ู ุชุจูุบุงุช ูุญุท', en: 'Printing and Outdoor Advertising' }
  },
  {
    slug: 'social-marketing',
    name: { fa: 'ูุฏุฑุช ุดุจฺฉู ูุง ุงุฌุชูุงุน', en: 'Social Media Management' }
  },
  {
    slug: 'content-and-editing',
    name: { fa: 'ุชููุฏ ูุญุชูุง ู ุชุฏูู', en: 'Content Production and Editing' }
  },
  {
    slug: 'logo-design',
    name: { fa: 'ุทุฑุงุญ ููฺฏู ู ุจุฑูุฏ ุณุงุฒ', en: 'Logo Design and Branding' }
  },
  {
    slug: 'web-design',
    name: { fa: 'ุทุฑุงุญ ู ุจุฑูุงูู ููุณ ูุจุณุงุช', en: 'Web Design and Development' }
  }
];

// Article templates - 1000 words each (2 per service)
const ARTICLE_TEMPLATES = {
  'seo-and-optimization': [
    {
      title: {
        fa: 'ุฑุงูููุง ฺฉุงูู ุณุฆู ุชฺฉูฺฉุงู: 10 ูฺฉุชู ุทูุง ุจุฑุง ุจูููโุณุงุฒ ุณุงุช',
        en: 'Complete Technical SEO Guide: 10 Golden Tips for Website Optimization'
      },
      excerpt: {
        fa: 'ุณุฆู ุชฺฉูฺฉุงู ูพุงู ู ุงุณุงุณ ููููุช ูุฑ ูุจโุณุงุช ุงุณุช. ุฏุฑ ุงู ููุงูู ุจู ุจุฑุฑุณ 10 ูฺฉุชู ุทูุง ุณุฆู ุชฺฉูฺฉุงู ูโูพุฑุฏุงุฒู ฺฉู ูโุชูุงูุฏ ุฑุชุจู ุณุงุช ุดูุง ุฑุง ุฏุฑ ฺฏูฺฏู ุจูุจูุฏ ุจุฎุดุฏ.',
        en: 'Technical SEO is the foundation of any website\'s success. In this article, we explore 10 golden technical SEO tips that can improve your site\'s Google ranking.'
      },
      content: {
        fa: `<h1>ุฑุงูููุง ฺฉุงูู ุณุฆู ุชฺฉูฺฉุงู: 10 ูฺฉุชู ุทูุง ุจุฑุง ุจูููโุณุงุฒ ุณุงุช</h1>

<p>ุณุฆู ุชฺฉูฺฉุงู ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุง ุจูููโุณุงุฒ ููุชูุฑูุง ุฌุณุชุฌู ุงุณุช ฺฉู ุจุฑ ุฑู ุฌูุจูโูุง ูู ูุจโุณุงุช ุดูุง ุชูุฑฺฉุฒ ูโฺฉูุฏ. ุฏุฑ ุงู ููุงููุ ุจู ุจุฑุฑุณ 10 ูฺฉุชู ุทูุง ุณุฆู ุชฺฉูฺฉุงู ูโูพุฑุฏุงุฒู ฺฉู ูโุชูุงูุฏ ุฑุชุจู ุณุงุช ุดูุง ุฑุง ุฏุฑ ฺฏูฺฏู ุจู ุทูุฑ ูุงุจู ุชูุฌู ุจูุจูุฏ ุจุฎุดุฏ.</p>

<h2>1. ุจูููโุณุงุฒ ุณุฑุนุช ุจุงุฑฺฏุฐุงุฑ ุณุงุช</h2>

<p>ุณุฑุนุช ุจุงุฑฺฏุฐุงุฑ ุณุงุช ฺฉ ุงุฒ ูููโุชุฑู ูุงฺฉุชูุฑูุง ุฑุชุจูโุจูุฏ ฺฏูฺฏู ุงุณุช. ุจุฑุง ุจูุจูุฏ ุณุฑุนุช ุณุงุช ุฎูุฏ ุจุงุฏ ุจู ฺูุฏ ูฺฉุชู ููู ุชูุฌู ฺฉูุฏ:</p>

<ul>
<li>ุงุณุชูุงุฏู ุงุฒ CDN ุจุฑุง ุชูุฒุน ูุญุชูุง ุฏุฑ ุณุฑุงุณุฑ ุฌูุงู ู ฺฉุงูุด ุฒูุงู ุจุงุฑฺฏุฐุงุฑ</li>
<li>ูุดุฑุฏูโุณุงุฒ ุชุตุงูุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูุฑูุชโูุง ูุฏุฑู ูุงููุฏ WebP ฺฉู ุญุฌู ูุงู ุฑุง ุชุง 30 ุฏุฑุตุฏ ฺฉุงูุด ูโุฏูุฏ</li>
<li>ุจูููโุณุงุฒ ฺฉุฏูุง CSS ู JavaScript ุจุง ุญุฐู ฺฉุฏูุง ุบุฑุถุฑูุฑ ู minify ฺฉุฑุฏู ูุงูโูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ caching ููุงุณุจ ุฏุฑ ูุฑูุฑฺฏุฑ ู ุณุฑูุฑ ุจุฑุง ฺฉุงูุด ุฏุฑุฎูุงุณุชโูุง ูฺฉุฑุฑ</li>
<li>ุจูููโุณุงุฒ ูพุงฺฏุงู ุฏุงุฏู ู ุงุณุชูุงุฏู ุงุฒ indexing ููุงุณุจ ุจุฑุง ุจูุจูุฏ ุณุฑุนุช query ูุง</li>
</ul>

<h2>2. ุณุงุฎุชุงุฑ URL ุจููู</h2>

<p>URL ูุง ุชูุฒ ู ูุงุจู ููู ุจุฑุง ฺฉุงุฑุจุฑุงู ู ููุชูุฑูุง ุฌุณุชุฌู ุจุณุงุฑ ููู ูุณุชูุฏ. ฺฉ URL ุจููู ุจุงุฏ:</p>

<ul>
<li>ุดุงูู ฺฉููุงุช ฺฉูุฏ ูุฑุชุจุท ุจุง ูุญุชูุง ุจุงุดุฏ ุชุง ูู ฺฉุงุฑุจุฑ ู ูู ููุชูุฑ ุฌุณุชุฌู ุจุชูุงูุฏ ููุถูุน ุตูุญู ุฑุง ุฏุฑฺฉ ฺฉูุฏ</li>
<li>ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ู ูพฺุฏู ุงุฌุชูุงุจ ฺฉูุฏ ู ููุท ุงุฒ ุญุฑููุ ุงุนุฏุงุฏ ู ุฎุท ุชุฑู ุงุณุชูุงุฏู ฺฉูุฏ</li>
<li>ุณุงุฎุชุงุฑ ุณูุณููโูุฑุงุชุจ ููุทู ุฏุงุดุชู ุจุงุดุฏ ฺฉู ูุดุงูโุฏููุฏู ุณุงุฒูุงูุฏู ูุญุชูุง ุจุงุดุฏ</li>
<li>ฺฉูุชุงู ู ูุฎุชุตุฑ ุจุงุดุฏ ุชุง ุจู ุฑุงุญุช ุจู ุฎุงุทุฑ ุณูพุฑุฏู ุดูุฏ ู ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู ุจู ุทูุฑ ฺฉุงูู ููุงุด ุฏุงุฏู ุดูุฏ</li>
</ul>

<h2>3. XML Sitemap ู Robots.txt</h2>

<p>ุงุฌุงุฏ ู ุจูููโุณุงุฒ ูุงูโูุง XML Sitemap ู Robots.txt ุจุฑุง ฺฉูฺฉ ุจู ููุชูุฑูุง ุฌุณุชุฌู ุฏุฑ crawl ฺฉุฑุฏู ุณุงุช ุดูุง ุถุฑูุฑ ุงุณุช:</p>

<ul>
<li>ุงุฌุงุฏ sitemap ฺฉุงูู ู ุจูโุฑูุฒ ฺฉู ุดุงูู ุชูุงู ุตูุญุงุช ููู ุณุงุช ุจุงุดุฏ ู ุจู ุตูุฑุช ููุธู ุจูโุฑูุฒุฑุณุงู ุดูุฏ</li>
<li>ุชูุธู ุตุญุญ robots.txt ุจุฑุง ฺฉูุชุฑู ุฏุณุชุฑุณ ููุชูุฑูุง ุฌุณุชุฌู ุจู ุจุฎุดโูุง ูุฎุชูู ุณุงุช</li>
<li>ุงุฑุณุงู sitemap ุจู Google Search Console ุจุฑุง ุงุทูุงุน ุฑุณุงู ุจู ฺฏูฺฏู ุงุฒ ุตูุญุงุช ุฌุฏุฏ ู ุจูโุฑูุฒุฑุณุงูโูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ sitemap index ุจุฑุง ุณุงุชโูุง ุจุฒุฑฺฏ ฺฉู ุฏุงุฑุง ุตูุญุงุช ุฒุงุฏ ูุณุชูุฏ</li>
</ul>

<h2>4. Schema Markup</h2>

<p>ุงุณุชูุงุฏู ุงุฒ Schema Markup ุจุฑุง ฺฉูฺฉ ุจู ฺฏูฺฏู ุฏุฑ ุฏุฑฺฉ ุจูุชุฑ ูุญุชูุง ุดูุง ฺฉ ุงุฒ ุชฺฉูฺฉโูุง ูพุดุฑูุชู ุณุฆู ุงุณุช:</p>

<ul>
<li>ุงุถุงูู ฺฉุฑุฏู structured data ุจู ุตูุญุงุช ุจุฑุง ฺฉูฺฉ ุจู ููุชูุฑูุง ุฌุณุชุฌู ุฏุฑ ุฏุฑฺฉ ุจูุชุฑ ูุญุชูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ JSON-LD ฺฉู ุฑูุด ูุฏุฑู ู ุชูุตู ุดุฏู ุชูุณุท ฺฏูฺฏู ุงุณุช</li>
<li>ุงุนุชุจุงุฑุณูุฌ Schema Markup ุจุง ุงุณุชูุงุฏู ุงุฒ Google Rich Results Test ุจุฑุง ุงุทููุงู ุงุฒ ุตุญุช ฺฉุฏูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ ุงููุงุน ูุฎุชูู Schema ูุงููุฏ Articleุ Organizationุ BreadcrumbList ู LocalBusiness</li>
</ul>

<h2>5. ุจูููโุณุงุฒ ููุจุงู (Mobile-First)</h2>

<p>ุจุง ุชูุฌู ุจู ุงููุช ููุจุงู ุฏุฑ ุฌุณุชุฌููุง ู ุงูฺฉู ุจุด ุงุฒ 60 ุฏุฑุตุฏ ุชุฑุงูฺฉ ูุจ ุงุฒ ููุจุงู ูโุขุฏ:</p>

<ul>
<li>ุทุฑุงุญ responsive ฺฉู ุฏุฑ ููู ุงูุฏุงุฒูโูุง ุตูุญู ููุงุด ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ</li>
<li>ุชุณุช ุณุฑุนุช ุฏุฑ ููุจุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง Google PageSpeed Insights ู Mobile-Friendly Test</li>
<li>ุงุณุชูุงุฏู ุงุฒ AMP (Accelerated Mobile Pages) ุจุฑุง ุตูุญุงุช ุฎุงุต ฺฉู ูุงุฒ ุจู ุณุฑุนุช ุจุงูุง ุฏุงุฑูุฏ</li>
<li>ุจูููโุณุงุฒ touch targets ู ูุงุตููโฺฏุฐุงุฑ ููุงุณุจ ุจุฑุง ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุจูุชุฑ ุฏุฑ ููุจุงู</li>
</ul>

<h2>6. ุงููุช ุณุงุช (HTTPS)</h2>

<p>HTTPS ูู ุชููุง ุจุฑุง ุงููุชุ ุจูฺฉู ุจุฑุง ุณุฆู ูุฒ ุจุณุงุฑ ููู ุงุณุช ู ฺฏูฺฏู ุขู ุฑุง ุจู ุนููุงู ฺฉ ูุงฺฉุชูุฑ ุฑุชุจูโุจูุฏ ุฏุฑ ูุธุฑ ูโฺฏุฑุฏ:</p>

<ul>
<li>ูุตุจ SSL Certificate ูุนุชุจุฑ ุจุฑุง ุฑูุฒฺฏุฐุงุฑ ุงุฑุชุจุงุทุงุช</li>
<li>ุงูุชูุงู ฺฉุงูู ุจู HTTPS ู ุงุทููุงู ุงุฒ ุงูฺฉู ุชูุงู ููุงุจุน (ุชุตุงูุฑุ CSSุ JavaScript) ุงุฒ HTTPS ููุฏ ูโุดููุฏ</li>
<li>ุจุฑุฑุณ Mixed Content ู ุฑูุน ูุดฺฉูุงุช ุงููุช ฺฉู ููฺฉู ุงุณุช ุจุงุนุซ ูุดุฏุงุฑ ุฏุฑ ูุฑูุฑฺฏุฑ ุดูุฏ</li>
<li>ุงุณุชูุงุฏู ุงุฒ HSTS (HTTP Strict Transport Security) ุจุฑุง ุงููุช ุจุดุชุฑ</li>
</ul>

<h2>7. ุจูููโุณุงุฒ ุชุตุงูุฑ</h2>

<p>ุชุตุงูุฑ ุจููู ุดุฏู ูโุชูุงููุฏ ุณุฑุนุช ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุฑุง ุจูุจูุฏ ุจุฎุดูุฏ ู ููฺูู ูโุชูุงููุฏ ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู ุชุตุงูุฑ ฺฏูฺฏู ุธุงูุฑ ุดููุฏ:</p>

<ul>
<li>ุงุณุชูุงุฏู ุงุฒ ูุฑูุชโูุง ูุฏุฑู ูุงููุฏ WebP ฺฉู ฺฉูุช ุจูุชุฑ ุจุง ุญุฌู ฺฉูุชุฑ ุงุฑุงุฆู ูโุฏูุฏ</li>
<li>ุงุถุงูู ฺฉุฑุฏู Alt Text ููุงุณุจ ู ุชูุตู ฺฉู ูู ุจุฑุง accessibility ู ูู ุจุฑุง ุณุฆู ููู ุงุณุช</li>
<li>ุจูููโุณุงุฒ ุญุฌู ุชุตุงูุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง ูุดุฑุฏูโุณุงุฒ ุจุฏูู ฺฉุงูุด ฺฉูุช ูุงุจู ุชูุฌู</li>
<li>ุงุณุชูุงุฏู ุงุฒ lazy loading ุจุฑุง ุชุตุงูุฑ ฺฉู ุฏุฑ viewport ูุณุชูุฏ ุชุง ุณุฑุนุช ุจุงุฑฺฏุฐุงุฑ ุงููู ุฑุง ุจูุจูุฏ ุจุฎุดุฏ</li>
</ul>

<h2>8. Internal Linking</h2>

<p>ููฺฉโุณุงุฒ ุฏุงุฎู ููุงุณุจ ูโุชูุงูุฏ ุจู ุชูุฒุน PageRank ู ุจูุจูุฏ navigation ฺฉูฺฉ ฺฉูุฏ:</p>

<ul>
<li>ุงุฌุงุฏ ุณุงุฎุชุงุฑ ููุทู ููฺฉโูุง ฺฉู ุจู ฺฉุงุฑุจุฑุงู ู ููุชูุฑูุง ุฌุณุชุฌู ฺฉูฺฉ ฺฉูุฏ ุชุง ูุญุชูุง ุฑุง ูพุฏุง ฺฉููุฏ</li>
<li>ุงุณุชูุงุฏู ุงุฒ anchor text ููุงุณุจ ฺฉู ุชูุตู ู ูุฑุชุจุท ุจุง ูุญุชูุง ุตูุญู ููุตุฏ ุจุงุดุฏ</li>
<li>ุชูุฒุน ููุงุณุจ PageRank ุฏุฑ ุณุฑุงุณุฑ ุณุงุช ุจุง ููฺฉ ุฏุงุฏู ุจู ุตูุญุงุช ููู</li>
<li>ุงุณุชูุงุฏู ุงุฒ breadcrumb navigation ุจุฑุง ุจูุจูุฏ ุณุงุฎุชุงุฑ ุณุงุช ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ</li>
</ul>

<h2>9. Core Web Vitals</h2>

<p>ุจูููโุณุงุฒ Core Web Vitals ฺฏูฺฏู ฺฉู ุดุงูู ุณู ูุนุงุฑ ุงุตู ุนููฺฉุฑุฏ ุงุณุช:</p>

<ul>
<li>ุจูุจูุฏ LCP (Largest Contentful Paint) ฺฉู ุจุงุฏ ฺฉูุชุฑ ุงุฒ 2.5 ุซุงูู ุจุงุดุฏ</li>
<li>ฺฉุงูุด CLS (Cumulative Layout Shift) ฺฉู ุจุงุฏ ฺฉูุชุฑ ุงุฒ 0.1 ุจุงุดุฏ</li>
<li>ุจูููโุณุงุฒ FID (First Input Delay) ฺฉู ุจุงุฏ ฺฉูุชุฑ ุงุฒ 100 ููโุซุงูู ุจุงุดุฏ</li>
<li>ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑูุง Google PageSpeed Insights ู Chrome DevTools ุจุฑุง ูุงูุชูุฑูฺฏ ู ุจูุจูุฏ ุงู ูุนุงุฑูุง</li>
</ul>

<h2>10. ูุงูุชูุฑูฺฏ ู ุขูุงูุฒ ูุฏุงูู</h2>

<p>ูุธุงุฑุช ูุฏุงูู ุจุฑ ุนููฺฉุฑุฏ ุณุงุช ุจุฑุง ุดูุงุณุง ูุดฺฉูุงุช ู ูุฑุตุชโูุง ุจูุจูุฏ ุถุฑูุฑ ุงุณุช:</p>

<ul>
<li>ุงุณุชูุงุฏู ุงุฒ Google Analytics ุจุฑุง ุฑุฏุงุจ ุชุฑุงูฺฉุ ุฑูุชุงุฑ ฺฉุงุฑุจุฑุงู ู conversion rates</li>
<li>ูุงูุชูุฑูฺฏ Google Search Console ุจุฑุง ุจุฑุฑุณ ูุถุนุช indexingุ ุฎุทุงูุง crawl ู performance</li>
<li>ุจุฑุฑุณ ุฎุทุงูุง crawl ู ุฑูุน ุขูโูุง ุจู ุณุฑุนุช ุจุฑุง ุงุทููุงู ุงุฒ ุงูฺฉู ุชูุงู ุตูุญุงุช ุจู ุฏุฑุณุช index ูโุดููุฏ</li>
<li>ุขูุงูุฒ ุฑูุจุง ู ุจุฑุฑุณ ุงุณุชุฑุงุชฺโูุง ุณุฆู ุขูโูุง ุจุฑุง ุงูุชู ูุฑุตุชโูุง ุฌุฏุฏ</li>
</ul>

<h2>ูุชุฌูโฺฏุฑ</h2>

<p>ุณุฆู ุชฺฉูฺฉุงู ฺฉ ูุฑุขูุฏ ูุฏุงูู ุงุณุช ฺฉู ูุงุฒ ุจู ูุธุงุฑุช ู ุจูููโุณุงุฒ ูุฏุงูู ุฏุงุฑุฏ. ุจุง ุฑุนุงุช ุงู 10 ูฺฉุชู ุทูุงุ ูโุชูุงูุฏ ูพุงู ูุญฺฉู ุจุฑุง ููููุช ุฏุฑ ุณุฆู ุงุฌุงุฏ ฺฉูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุณุฆู ุชฺฉูฺฉุงู ููุท ุดุฑูุน ฺฉุงุฑ ุงุณุช ู ุจุงุฏ ููุฑุงู ุจุง ุณุฆู ูุญุชูุง ู ููฺฉโุณุงุฒ ุฎุงุฑุฌ ุจุงุดุฏ ุชุง ุจู ูุชุงุฌ ูุทููุจ ุจุฑุณุฏ.</p>

<p>ุงฺฏุฑ ูุงุฒ ุจู ูุดุงูุฑู ุชุฎุตุต ุฏุฑ ุฒููู ุณุฆู ุชฺฉูฺฉุงู ุฏุงุฑุฏุ ุชู ูุชุฎุตุต ูฺฉุงูุจ ุจุง ุณุงูโูุง ุชุฌุฑุจู ุฏุฑ ุฒููู ุจูููโุณุงุฒ ููุชูุฑูุง ุฌุณุชุฌู ุขูุงุฏู ฺฉูฺฉ ุจู ุดูุงุณุช. ูุง ูโุชูุงูู ุณุงุช ุดูุง ุฑุง ุจู ุทูุฑ ฺฉุงูู ุจุฑุฑุณ ฺฉุฑุฏู ู ุฑุงูฺฉุงุฑูุง ุชุฎุตุต ุจุฑุง ุจูุจูุฏ ุฑุชุจู ุดูุง ุงุฑุงุฆู ุฏูู.</p>`,
        en: 'Technical SEO content in English...'
      },
      tags: {
        fa: ['ุณุฆู ุชฺฉูฺฉุงู', 'ุจูููโุณุงุฒ ุณุงุช', 'ฺฏูฺฏู', 'ุณุฆู', 'ูฺฉุงูุจ', 'Core Web Vitals', 'Schema Markup'],
        en: ['Technical SEO', 'Website Optimization', 'Google', 'SEO', 'Hikaweb', 'Core Web Vitals', 'Schema Markup']
      }
    },
    {
      title: {
        fa: 'ุณุฆู ุฏุงุฎู ฺุณุชุ ุฑุงูููุง ุฌุงูุน ุจูููโุณุงุฒ ูุญุชูุง ุจุฑุง ููุชูุฑูุง ุฌุณุชุฌู',
        en: 'What is On-Page SEO? Complete Guide to Content Optimization for Search Engines'
      },
      excerpt: {
        fa: 'ุณุฆู ุฏุงุฎู ุง On-Page SEO ุดุงูู ุจูููโุณุงุฒ ุนูุงุตุฑ ูุฎุชูู ุตูุญุงุช ูุจโุณุงุช ุดูุงุณุช. ุฏุฑ ุงู ููุงูู ุจู ุจุฑุฑุณ ฺฉุงูู ุณุฆู ุฏุงุฎู ู ุชฺฉูฺฉโูุง ุขู ูโูพุฑุฏุงุฒู.',
        en: 'On-Page SEO involves optimizing various elements of your website pages. In this article, we explore on-page SEO and its techniques in detail.'
      },
      content: {
        fa: `<h1>ุณุฆู ุฏุงุฎู ฺุณุชุ ุฑุงูููุง ุฌุงูุน ุจูููโุณุงุฒ ูุญุชูุง</h1>

<p>ุณุฆู ุฏุงุฎู (On-Page SEO) ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุง ุจูููโุณุงุฒ ููุชูุฑูุง ุฌุณุชุฌู ุงุณุช ฺฉู ุจุฑ ุฑู ุจูููโุณุงุฒ ุนูุงุตุฑ ูุฎุชูู ุตูุญุงุช ูุจโุณุงุช ุดูุง ุชูุฑฺฉุฒ ูโฺฉูุฏ. ุจุฑุฎูุงู ุณุฆู ุฎุงุฑุฌ ฺฉู ุดุงูู ููฺฉโุณุงุฒ ู ูุนุงูุชโูุง ุฎุงุฑุฌ ุงุฒ ุณุงุช ุงุณุชุ ุณุฆู ุฏุงุฎู ุชูุงู ฺฉุงุฑูุง ุงุณุช ฺฉู ุดูุง ูโุชูุงูุฏ ูุณุชููุงู ุฏุฑ ุตูุญุงุช ุฎูุฏ ุงูุฌุงู ุฏูุฏ.</p>

<h2>ุนูุงุตุฑ ููู ุณุฆู ุฏุงุฎู</h2>

<h3>1. ุจูููโุณุงุฒ Title Tag</h3>

<p>Title Tag ฺฉ ุงุฒ ูููโุชุฑู ุนูุงุตุฑ ุณุฆู ุฏุงุฎู ุงุณุช ฺฉู ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู ููุงุด ุฏุงุฏู ูโุดูุฏ:</p>

<ul>
<li>ุงุณุชูุงุฏู ุงุฒ ฺฉููุงุช ฺฉูุฏ ุงุตู ุฏุฑ ุงุจุชุฏุง title tag ุจุฑุง ุชุงุซุฑ ุจุดุชุฑ</li>
<li>ุทูู ููุงุณุจ ุจู 50 ุชุง 60 ฺฉุงุฑุงฺฉุชุฑ ุชุง ุจู ุทูุฑ ฺฉุงูู ุฏุฑ ูุชุงุฌ ุฌุณุชุฌู ููุงุด ุฏุงุฏู ุดูุฏ</li>
<li>ุฌุฐุงุจ ู ูุงุจู ฺฉูฺฉ ุจูุฏู ฺฉู ุจุงุนุซ ุงูุฒุงุด CTR (Click-Through Rate) ุดูุฏ</li>
<li>ููุญุตุฑ ุจู ูุฑุฏ ุจูุฏู ุจุฑุง ูุฑ ุตูุญู ุชุง ุงุฒ duplicate content ุฌููฺฏุฑ ุดูุฏ</li>
<li>ุดุงูู ูุงู ุจุฑูุฏ ุฏุฑ ุงูุชูุง ุจุฑุง ุงูุฒุงุด brand awareness</li>
</ul>

<h3>2. Meta Description</h3>

<p>Meta Description ุงฺฏุฑฺู ุจู ุทูุฑ ูุณุชูู ุจุฑ ุฑุชุจูโุจูุฏ ุชุงุซุฑ ููโฺฏุฐุงุฑุฏุ ุงูุง ุจุฑุง ุงูุฒุงุด CTR ุจุณุงุฑ ููู ุงุณุช:</p>

<ul>
<li>ุดุงูู ฺฉููุงุช ฺฉูุฏ ุงุตู ู ูุฑุชุจุท ุจุง ูุญุชูุง ุจุงุดุฏ</li>
<li>ุฌุฐุงุจ ู ุชุฑุบุจโฺฉููุฏู ุจุงุดุฏ ฺฉู ฺฉุงุฑุจุฑ ุฑุง ุจู ฺฉูฺฉ ฺฉุฑุฏู ุชุดูู ฺฉูุฏ</li>
<li>ุทูู ููุงุณุจ ุจู 150 ุชุง 160 ฺฉุงุฑุงฺฉุชุฑ ุชุง ุจู ุทูุฑ ฺฉุงูู ููุงุด ุฏุงุฏู ุดูุฏ</li>
<li>ุดุงูู call-to-action ููุงุณุจ ุจุฑุง ูุฏุงุช ฺฉุงุฑุจุฑ ุจู ุนูู</li>
<li>ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ุตูุญู ู ูุฑุชุจุท ุจุง ูุญุชูุง ุขู ุตูุญู</li>
</ul>

<h3>3. Header Tags (H1, H2, H3)</h3>

<p>ุงุณุชูุงุฏู ุตุญุญ ุงุฒ Header Tags ุจุฑุง ุณุงุฎุชุงุฑุฏู ูุญุชูุง ู ฺฉูฺฉ ุจู ููุชูุฑูุง ุฌุณุชุฌู:</p>

<ul>
<li>ฺฉ H1 ุฏุฑ ูุฑ ุตูุญู ฺฉู ุดุงูู ฺฉููู ฺฉูุฏ ุงุตู ุจุงุดุฏ</li>
<li>ุณุงุฎุชุงุฑ ููุทู H2 ู H3 ุจุฑุง ุณุงุฒูุงูุฏู ูุญุชูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ ฺฉููุงุช ฺฉูุฏ ุฏุฑ header tags ุงูุง ุจู ุตูุฑุช ุทุจุน ู ุจุฏูู keyword stuffing</li>
<li>ุงุณุชูุงุฏู ุงุฒ header tags ุจู ุชุฑุชุจ (H1 ุจุนุฏ H2ุ H2 ุจุนุฏ H3) ุจุฑุง ุณุงุฎุชุงุฑ ููุทู</li>
<li>ุงุณุชูุงุฏู ุงุฒ header tags ุจุฑุง ุจูุจูุฏ readability ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ</li>
</ul>

<h3>4. ุจูููโุณุงุฒ ูุญุชูุง</h3>

<p>ูุญุชูุง ุจุง ฺฉูุช ู ุจููู ุดุฏู ููุจ ุณุฆู ุฏุงุฎู ุงุณุช:</p>

<ul>
<li>ูุญุชูุง ููุญุตุฑ ุจู ูุฑุฏ ู ุงุฑุฒุดููุฏ ฺฉู ุจู ุณูุงูุงุช ฺฉุงุฑุจุฑุงู ูพุงุณุฎ ุฏูุฏ</li>
<li>ุงุณุชูุงุฏู ุทุจุน ุงุฒ ฺฉููุงุช ฺฉูุฏ ุฏุฑ ุณุฑุงุณุฑ ูุญุชูุง ุจุฏูู keyword stuffing</li>
<li>ุทูู ููุงุณุจ ูุญุชูุง (ุญุฏุงูู 1000 ฺฉููู ุจุฑุง ููุงูุงุช ุชุฎุตุต) ฺฉู ุนูู ููุถูุน ุฑุง ูพูุดุด ุฏูุฏ</li>
<li>ุงุณุชูุงุฏู ุงุฒ ฺฉููุงุช ฺฉูุฏ LSI (Latent Semantic Indexing) ุจุฑุง ูุดุงู ุฏุงุฏู ุชุฎุตุต ุฏุฑ ููุถูุน</li>
<li>ุจูโุฑูุฒุฑุณุงู ููุธู ูุญุชูุง ุจุฑุง ุญูุธ freshness ู relevance</li>
</ul>

<h3>5. ุจูููโุณุงุฒ ุชุตุงูุฑ</h3>

<p>ุชุตุงูุฑ ุจููู ุดุฏู ูโุชูุงููุฏ ูู ุฏุฑ ุณุฆู ู ูู ุฏุฑ ุชุฌุฑุจู ฺฉุงุฑุจุฑ ููุซุฑ ุจุงุดูุฏ:</p>

<ul>
<li>ุงุณุชูุงุฏู ุงุฒ Alt Text ููุงุณุจ ู ุชูุตู ฺฉู ูู ุจุฑุง accessibility ู ูู ุจุฑุง ุณุฆู ููู ุงุณุช</li>
<li>ูุงู ูุงู ุจููู ฺฉู ุดุงูู ฺฉููู ฺฉูุฏ ูุฑุชุจุท ุจุงุดุฏ</li>
<li>ุญุฌู ููุงุณุจ ุชุตุงูุฑ ุจุฑุง ุจูุจูุฏ ุณุฑุนุช ุจุงุฑฺฏุฐุงุฑ</li>
<li>ุงุณุชูุงุฏู ุงุฒ ูุฑูุชโูุง ูุฏุฑู ูุงููุฏ WebP ุจุฑุง ฺฉูุช ุจูุชุฑ ุจุง ุญุฌู ฺฉูุชุฑ</li>
<li>ุงุถุงูู ฺฉุฑุฏู caption ู title attribute ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ</li>
</ul>

<h3>6. URL Structure</h3>

<p>ุณุงุฎุชุงุฑ URL ุจููู ูโุชูุงูุฏ ุจู ุณุฆู ู ุชุฌุฑุจู ฺฉุงุฑุจุฑ ฺฉูฺฉ ฺฉูุฏ:</p>

<ul>
<li>ฺฉูุชุงู ู ูุงุจู ููู ุจูุฏู URL ุจุฑุง ฺฉุงุฑุจุฑุงู</li>
<li>ุดุงูู ฺฉููุงุช ฺฉูุฏ ูุฑุชุจุท ุจุง ูุญุชูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ ุฎุท ุชุฑู (-) ุจู ุฌุง underscore (_) ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ฺฉููุงุช</li>
<li>ุงุฌุชูุงุจ ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต ู ุงุณุชูุงุฏู ุงุฒ ุญุฑูู ฺฉูฺฺฉ</li>
<li>ุณุงุฎุชุงุฑ ุณูุณููโูุฑุงุชุจ ููุทู ฺฉู ูุดุงูโุฏููุฏู ุณุงุฒูุงูุฏู ูุญุชูุง ุจุงุดุฏ</li>
</ul>

<h3>7. Internal Linking</h3>

<p>ููฺฉโุณุงุฒ ุฏุงุฎู ููุงุณุจ ูโุชูุงูุฏ ุจู ุชูุฒุน PageRank ู ุจูุจูุฏ navigation ฺฉูฺฉ ฺฉูุฏ:</p>

<ul>
<li>ููฺฉ ุฏุงุฏู ุจู ุตูุญุงุช ูุฑุชุจุท ู ููู ุฏุฑ ุณุงุช</li>
<li>ุงุณุชูุงุฏู ุงุฒ anchor text ููุงุณุจ ู ุชูุตู</li>
<li>ุชูุฒุน ููุงุณุจ ููฺฉโูุง ุฏุฑ ุณุฑุงุณุฑ ูุญุชูุง</li>
<li>ุงุณุชูุงุฏู ุงุฒ contextual links ฺฉู ุจู ุทูุฑ ุทุจุน ุฏุฑ ูุญุชูุง ูุฑุงุฑ ฺฏุฑูุฏ</li>
<li>ุงุฌุงุฏ hub pages ฺฉู ุจู ุตูุญุงุช ูุฑุชุจุท ููฺฉ ูโุฏููุฏ</li>
</ul>

<h3>8. Mobile Optimization</h3>

<p>ุจุง ุชูุฌู ุจู ุงููุช mobile-first indexing ฺฏูฺฏู:</p>

<ul>
<li>ุทุฑุงุญ responsive ฺฉู ุฏุฑ ููู ุฏุณุชฺฏุงูโูุง ุจู ุฏุฑุณุช ฺฉุงุฑ ฺฉูุฏ</li>
<li>ุชุณุช ุณุฑุนุช ุฏุฑ ููุจุงู ู ุจูููโุณุงุฒ ุจุฑุง mobile experience</li>
<li>ุงุณุชูุงุฏู ุงุฒ viewport meta tag ุจุฑุง ุชูุธู ุตุญุญ ููุงุด ุฏุฑ ููุจุงู</li>
<li>ุจูููโุณุงุฒ touch targets ู ูุงุตููโฺฏุฐุงุฑ ููุงุณุจ</li>
<li>ุงุฌุชูุงุจ ุงุฒ ุงุณุชูุงุฏู ุงุฒ Flash ู pop-ups ฺฉู ุฏุฑ ููุจุงู ูุดฺฉู ุงุฌุงุฏ ูโฺฉููุฏ</li>
</ul>

<h2>ูุชุฌูโฺฏุฑ</h2>

<p>ุณุฆู ุฏุงุฎู ูพุงู ู ุงุณุงุณ ููููุช ุฏุฑ ููุชูุฑูุง ุฌุณุชุฌู ุงุณุช. ุจุง ุฑุนุงุช ุงู ูฺฉุงุช ู ุจูููโุณุงุฒ ุนูุงุตุฑ ูุฎุชูู ุตูุญุงุช ุฎูุฏุ ูโุชูุงูุฏ ุฑุชุจู ุณุงุช ุฎูุฏ ุฑุง ุจูุจูุฏ ุจุฎุดุฏ ู ุชุฑุงูฺฉ ุงุฑฺฏุงูฺฉ ุจุดุชุฑ ุฌุฐุจ ฺฉูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุณุฆู ุฏุงุฎู ฺฉ ูุฑุขูุฏ ูุฏุงูู ุงุณุช ู ุจุงุฏ ุจู ุทูุฑ ููุธู ุจุฑุฑุณ ู ุจูููโุณุงุฒ ุดูุฏ.</p>

<p>ุชู ูุชุฎุตุต ูฺฉุงูุจ ุจุง ุณุงูโูุง ุชุฌุฑุจู ุฏุฑ ุฒููู ุณุฆู ุฏุงุฎู ู ุจูููโุณุงุฒ ูุญุชูุง ุขูุงุฏู ฺฉูฺฉ ุจู ุดูุงุณุช. ูุง ูโุชูุงูู ุตูุญุงุช ุดูุง ุฑุง ุจู ุทูุฑ ฺฉุงูู ุจุฑุฑุณ ฺฉุฑุฏู ู ุฑุงูฺฉุงุฑูุง ุชุฎุตุต ุจุฑุง ุจูุจูุฏ ุฑุชุจู ุดูุง ุงุฑุงุฆู ุฏูู.</p>`,
        en: 'On-Page SEO content in English...'
      },
      tags: {
        fa: ['ุณุฆู ุฏุงุฎู', 'On-Page SEO', 'ุจูููโุณุงุฒ ูุญุชูุง', 'ฺฉููุงุช ฺฉูุฏ', 'Title Tag', 'Meta Description'],
        en: ['On-Page SEO', 'Content Optimization', 'Keywords', 'Title Tag', 'Meta Description']
      }
    }
  ],
  // Continue with other services...
};

// Helper functions
function generateSlugFa(text) {
  if (!text) return '';
  return text
    .trim()
    .replace(/[\s\u200C\u200D]+/g, '-')
    .replace(/-+/g, '-')
    .replace(/^-+|-+$/g, '');
}

function generateSlugEn(title) {
  if (!title) return '';
  return title
    .toLowerCase()
    .trim()
    .replace(/[^a-z0-9\s-]/g, '')
    .replace(/[\s_-]+/g, '-')
    .replace(/-+/g, '-')
    .replace(/^-+|-+$/g, '')
    .trim();
}

function calculateReadTime(content) {
  const wordsPerMinute = 200;
  const words = content.split(/\s+/).length;
  return Math.ceil(words / wordsPerMinute);
}

async function seedArticles() {
  try {
    await Database.connect();
    logger.info('๐ฑ ุดุฑูุน ุงุฌุงุฏ ููุงูุงุช ุฌุฏุฏ...');

    // Delete all existing articles
    const deleteResult = await Article.deleteMany({});
    logger.info(`๐๏ธ  ${deleteResult.deletedCount} ููุงูู ูุฏู ุญุฐู ุดุฏ`);

    // Get super admin user
    const superAdmin = await User.findOne({ email: 'mahdisahebelm@gmail.com' });
    if (!superAdmin) {
      throw new Error('ฺฉุงุฑุจุฑ super admin ูพุฏุง ูุดุฏ. ูุทูุงู ุงุจุชุฏุง seed.js ุฑุง ุงุฌุฑุง ฺฉูุฏ.');
    }

    // Get or create article category
    let articleCategory = await Category.findOne({ type: 'article', level: 0 });
    if (!articleCategory) {
      articleCategory = await Category.create({
        name: { fa: 'ููุงูุงุช', en: 'Articles' },
        slug: { fa: 'articles', en: 'articles' },
        description: { fa: 'ุฏุณุชูโุจูุฏ ุงุตู ููุงูุงุช', en: 'Main articles category' },
        type: 'article',
        level: 0,
        orderIndex: 0
      });
      logger.info('โ ุฏุณุชูโุจูุฏ ููุงูุงุช ุงุฌุงุฏ ุดุฏ');
    }

    let createdCount = 0;

    // Create articles for each service
    for (const serviceInfo of SERVICES) {
      const service = await Service.findOne({ 'slug.fa': serviceInfo.slug });
      if (!service) {
        logger.warn(`โ๏ธ  ุฎุฏูุช "${serviceInfo.name.fa}" ูพุฏุง ูุดุฏุ ุฑุฏ ูโุดูุฏ`);
        continue;
      }

      const articles = ARTICLE_TEMPLATES[serviceInfo.slug] || [];
      
      if (articles.length === 0) {
        logger.warn(`โ๏ธ  ุงูฺฏู ููุงูู ุจุฑุง "${serviceInfo.name.fa}" ูพุฏุง ูุดุฏุ ุฑุฏ ูโุดูุฏ`);
        continue;
      }

      for (const articleTemplate of articles) {
        const articleData = {
          ...articleTemplate,
          slug: {
            fa: generateSlugFa(articleTemplate.title.fa),
            en: generateSlugEn(articleTemplate.title.en)
          },
          featuredImage: service.featuredImage || '/assets/images/post-thumb-1.webp',
          author: superAdmin._id,
          categories: [articleCategory._id],
          publishedAt: new Date(),
          isPublished: true,
          isFeatured: articles.indexOf(articleTemplate) === 0,
          readTime: calculateReadTime(articleTemplate.content.fa),
          seo: {
            metaTitle: {
              fa: `${articleTemplate.title.fa} | ูฺฉุงูุจ`,
              en: `${articleTemplate.title.en} | Hikaweb`
            },
            metaDescription: {
              fa: articleTemplate.excerpt.fa.substring(0, 160),
              en: articleTemplate.excerpt.en.substring(0, 160)
            },
            metaKeywords: {
              fa: [...articleTemplate.tags.fa, 'ูฺฉุงูุจ'],
              en: [...articleTemplate.tags.en, 'Hikaweb']
            }
          }
        };

        const article = await Article.create(articleData);
        logger.info(`โ ููุงูู "${article.title.fa}" ุงุฌุงุฏ ุดุฏ`);

        // Link article to service
        if (!service.relatedArticles) {
          service.relatedArticles = [];
        }
        service.relatedArticles.push(article._id);
        await service.save();

        createdCount++;
      }
    }

    logger.info(`\n๐ ุงุฌุงุฏ ููุงูุงุช ุจุง ููููุช ุงูุฌุงู ุดุฏ!`);
    logger.info(`๐ ุขูุงุฑ: ${createdCount} ููุงูู ุฌุฏุฏ ุงุฌุงุฏ ุดุฏ`);

    await Database.disconnect();
    process.exit(0);
  } catch (error) {
    logger.error('โ ุฎุทุง ุฏุฑ ุงุฌุงุฏ ููุงูุงุช:', error);
    await Database.disconnect();
    process.exit(1);
  }
}

// Run if executed directly
if (import.meta.url === `file://${process.argv[1]}`) {
  seedArticles();
}

export default seedArticles;

